(this["webpackJsonptest-nekidaem"]=this["webpackJsonptest-nekidaem"]||[]).push([[0],{13:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return o}));var c="SET_CARDS",a="ADD_CARDS",r="REMOVE_CARDS",s="REORDER_CARDS",o={setCards:function(e){return{type:c,payload:e}},addCard:function(e,t){return{type:a,payload:{columnIndex:e,text:t}}},removeCard:function(e,t){return{type:r,payload:{columnIndex:e,cardIndex:t}}},reorderCards:function(e){var t=e.source,n=e.destination;return{type:s,payload:{source:t,destination:n}}}}},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(4),a=(n(0),n(18)),r=n(24),s=(n(76),n(1)),o=function(e){var t=e.cardIndex,n=e.columnIndex,o=e.children,i=e.onRemove;return"undefined"!==typeof t?Object(s.jsx)(a.b,{draggableId:"card-".concat(n,"-").concat(t),index:t,children:function(e,a){return Object(s.jsxs)("div",Object(c.a)(Object(c.a)(Object(c.a)({className:"card",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(s.jsx)("span",{children:o}),Object(s.jsx)("div",{onClick:i.bind(undefined,n,t),className:"remove-btn",children:Object(s.jsx)("img",{src:r.a,alt:"Clear svg icon"})})]}))}}):Object(s.jsx)("div",{className:"card",children:o})}},24:function(e,t,n){"use strict";t.a=n.p+"static/media/clear.4ac10f93.svg"},31:function(e,t,n){},41:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var c=n(23),a=n(3),r=n(13),s=n(1);function o(t){var n=t.columnIndex,o=t.cardIndex,i=t.children,d=Object(a.d)((function(e){return e.cards})),u=Object(a.c)();return Object(s.jsx)(c.a,{children:i,items:d,cardIndex:o,columnIndex:n,onRemove:function(t,n){e.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c?")&&u(r.e.removeCard(t,n))}})}}).call(this,n(30))},52:function(e,t,n){},55:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(16),r=n.n(a),s=n(14),o=n(5),i=n(3),d="SET_USER",u="LOGOUT",l=function(){return{type:d}},j=function(){return{type:u}},b=n.p+"static/media/avatar.1af8adc2.svg",m=(n(52),n(1)),O=function(){var e=Object(i.d)((function(e){return e.users.isAuth})),t=Object(i.c)();return Object(m.jsx)("div",{className:"navbar",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(s.b,{to:"/",className:"navbar__logo",children:Object(m.jsx)("div",{className:"navbar__header",children:"Trello"})}),!e&&Object(m.jsx)("div",{className:"navbar__login",children:Object(m.jsx)(s.b,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})}),!e&&Object(m.jsx)("div",{className:"navbar__registration",children:Object(m.jsx)(s.b,{to:"/registration",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),e&&Object(m.jsx)("div",{className:"navbar__login",onClick:function(){return t(j())},children:"\u0412\u044b\u0445\u043e\u0434"}),e&&Object(m.jsx)(s.b,{to:"/",children:Object(m.jsx)("img",{className:"navbar__avatar",src:b,alt:""})})]})})},x=n(10),p=(n(31),n(55),function(e){return Object(m.jsx)("input",{value:e.value,onChange:function(t){return e.setValue(t.target.value)},type:e.type,placeholder:e.placeholder})}),f=n(15),h=n.n(f),v=n(25),_=n(40),g=n.n(_).a.create({baseURL:"https://trello.backend.tests.nekidaem.ru/api/v1/"}),y=function(){var e=Object(c.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(x.a)(r,2),o=s[0],d=s[1],u=Object(c.useState)(""),l=Object(x.a)(u,2),j=l[0],b=l[1],O=Object(i.c)();return Object(m.jsxs)("div",{className:"authorization",children:[Object(m.jsx)("div",{className:"authorization__header",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsx)(p,{value:n,setValue:a,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f..."}),Object(m.jsx)(p,{value:o,setValue:d,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email..."}),Object(m.jsx)(p,{value:j,setValue:b,type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c..."}),Object(m.jsx)("button",{className:"authorization__btn",onClick:function(){return O(function(e,t,n){return function(){var c=Object(v.a)(h.a.mark((function c(a){var r;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,g.post("users/create/",{username:e,email:t,password:n});case 3:r=c.sent,alert("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u0430!"),console.log(r.data),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),console.log(c.t0.response.data);case 11:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()}(n,o,j))},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})},C=function(){var e=Object(c.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(x.a)(r,2),o=s[0],d=s[1],u=Object(i.c)();return Object(m.jsxs)("div",{className:"authorization",children:[Object(m.jsx)("div",{className:"authorization__header",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(m.jsx)(p,{value:n,setValue:a,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f..."}),Object(m.jsx)(p,{value:o,setValue:d,type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c..."}),Object(m.jsx)("button",{className:"authorization__btn",onClick:function(){return u(function(e,t){return function(){var n=Object(v.a)(h.a.mark((function n(c){var a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.post("users/login/",{username:e,password:t});case 3:a=n.sent,c(l()),localStorage.setItem("token",a.data.token),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.response.data.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(n,o))},children:"\u0412\u043e\u0439\u0442\u0438"})]})},N=n(4),w=n(18),I=(n(75),function(e){var t=e.children,n=e.onClick;return Object(m.jsx)("button",{className:"button",onClick:n,children:t})}),S=n(23),k=n.p+"static/media/add.0bbf1711.svg",R=n(24),A=(n(77),void 0),E=function(e){var t=e.value,n=e.showForm,c=e.setValue,a=e.textareaRef,r=e.setShowForm,s=e.onAdd;return n?Object(m.jsx)("div",{className:"add-form",children:Object(m.jsxs)("div",{className:"add-form__input",children:[Object(m.jsx)(S.a,{children:Object(m.jsx)("textarea",{onChange:function(e){return c(e.target.value)},value:t,placeholder:"\u0412\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",ref:a,rows:"3"})}),Object(m.jsxs)("div",{className:"add-form__bottom",children:[Object(m.jsx)(I,{onClick:s,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"}),Object(m.jsx)("img",{onClick:r.bind(A,!1),className:"add-form__bottom-clear",src:R.a,alt:"Clear svg icon"})]})]})}):Object(m.jsx)("div",{className:"add-form__bottom",children:Object(m.jsxs)("div",{onClick:r.bind(A,!0),className:"add-form__bottom-add-btn",children:[Object(m.jsx)("img",{src:k,alt:"Add svg icon"}),Object(m.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})]})})},q=function(e){var t=e.columnIndex,n=e.onAddCard,a=e.onAddColumn,r=e.isEmptyColumn,s=Object(c.useState)(!1),o=Object(x.a)(s,2),i=o[0],d=o[1],u=Object(c.useState)(""),l=Object(x.a)(u,2),j=l[0],b=l[1],O=Object(c.useRef)(null);Object(c.useEffect)((function(){O.current&&O.current.focus()}),[i]);return Object(m.jsx)(E,{onAdd:function(){r?a(j):n(t,j),b(""),d(!1)},showForm:i,setShowForm:d,value:j,setValue:b,textareaRef:O})},D=n(41),V=(n(78),function(e){var t=e.columnIndex,n=e.title,c=e.cards,a=e.onAddCard;return c?Object(m.jsx)(w.c,{type:"CARDS",droppableId:"column-".concat(t),children:function(e){return Object(m.jsx)("div",Object(N.a)(Object(N.a)({className:"column"},e.droppableProps),{},{ref:e.innerRef,children:Object(m.jsxs)("div",{className:"column__inner",children:[n&&Object(m.jsx)("div",{className:"column__title",children:Object(m.jsx)("b",{children:n})}),Object(m.jsxs)("div",{className:"column__items",children:[c.map((function(e,n){return Object(m.jsx)(D.a,{columnIndex:t,cardIndex:n,children:e.text},n)})),e.placeholder]}),Object(m.jsx)(q,{isEmptyColumn:!1,columnIndex:t,onAddCard:a})]})}))}}):Object(m.jsx)("div",{className:"column column--empty",children:Object(m.jsx)("div",{className:"column__inner",children:Object(m.jsx)(q,{isEmptyColumn:!0,columnIndex:t,onAddCard:a})})})}),T=n(13),z=function(){var e=Object(i.d)((function(e){return e.cards})),t=Object(i.c)(),n=function(e,n){t(T.e.addCard(e,n))};return Object(m.jsx)(c.Fragment,{children:Object(m.jsx)(w.a,{onDragEnd:function(e){var n=e.source,c=e.destination;!c||n.droppableId===c.droppableId&&n.index===c.index||t(T.e.reorderCards({source:n,destination:c}))},children:e.map((function(e,t){return Object(c.createElement)(V,Object(N.a)(Object(N.a)({},e),{},{key:t,columnIndex:t,onAddCard:n}))}))})})},P=(n(79),function(){var e=Object(i.d)((function(e){return e.users.isAuth})),t=Object(i.c)();return Object(c.useEffect)((function(){t(function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{localStorage.getItem("token")?t(l()):t(j())}catch(n){localStorage.removeItem("token")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(m.jsx)(s.a,{children:Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)(O,{}),Object(m.jsx)("div",{className:"wrap",children:e?Object(m.jsxs)(o.d,{children:[Object(m.jsx)(o.b,{exact:!0,path:"/",component:z}),Object(m.jsx)(o.a,{to:"/"})]}):Object(m.jsxs)(o.d,{children:[Object(m.jsx)(o.b,{path:"/registration",component:y}),Object(m.jsx)(o.b,{path:"/login",component:C}),Object(m.jsx)(o.a,{to:"/login"})]})})]})})}),F=n(12),H=n(42),J=n(43),L=n(44),U=function(e){var t=e.state,n=e.source,c=e.destination,a=n.index,r=n.droppableId,s=c.index,o=c.droppableId,i=parseInt(r.replace("column-","")),d=parseInt(o.replace("column-",""));return t.map((function(e,n){if(d===n){var c=t[i].cards.splice(a,1),r=Object(x.a)(c,1)[0],o=Array.from(t[d].cards);o.splice(s,0,r),e.cards=o}return e}))},G=[{title:"ON HOLD",cards:[{id:0,row:"1",seq_num:100,text:"\u041f\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u043a\u043d\u0438\u0433\u0443 \u043f\u043e React"},{id:1,row:"1",seq_num:101,text:"\u041f\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u043a\u043d\u0438\u0433\u0443 \u043f\u043e JS"},{id:2,row:"1",seq_num:102,text:"\u041f\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u043a\u043d\u0438\u0433\u0443 \u043f\u043e Vue"}]},{title:"IN PROGRESS",cards:[{id:3,row:"2",seq_num:103,text:"\u0421\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u043a\u0438\u043d\u043e"},{id:4,row:"2",seq_num:104,text:"\u0421\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u043c\u0443\u0437\u0435\u0439"},{id:5,row:"2",seq_num:105,text:"\u041f\u043e\u0433\u0443\u043b\u044f\u0442\u044c \u0432 \u043f\u0430\u0440\u043a\u0435"}]},{title:"NEEDS REVIEW",cards:[{id:3,row:"2",seq_num:103,text:"TypeScript"},{id:4,row:"2",seq_num:104,text:"Redux"},{id:5,row:"2",seq_num:105,text:"SCSS!"}]},{title:"APPROVED",cards:[{id:3,row:"2",seq_num:103,text:"Hello"},{id:4,row:"2",seq_num:104,text:"Test"},{id:5,row:"2",seq_num:105,text:"\u041f\u0440\u0438\u0432\u0435\u0442!"}]}];var M={isAuth:!1};var W=Object(F.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(N.a)(Object(N.a)({},e),{},{isAuth:!0});case u:return localStorage.removeItem("token"),Object(N.a)(Object(N.a)({},e),{},{isAuth:!1});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.d:return Object(N.a)(Object(N.a)({},e),t.payload.cards);case T.a:return e.map((function(e,n){return t.payload.columnIndex===n?Object(N.a)(Object(N.a)({},e),{},{cards:[].concat(Object(L.a)(e.cards),[{id:100,row:"2",seq_num:105,text:t.payload.text}])}):e}));case T.b:return e.map((function(e,n){return t.payload.columnIndex===n?Object(N.a)(Object(N.a)({},e),{},{cards:e.cards.filter((function(e,n){return n!==t.payload.cardIndex}))}):e}));case T.c:var n=t.payload,c=n.source,a=n.destination;return U({state:e,source:c,destination:a});default:return e}}}),B=Object(F.createStore)(W,Object(H.composeWithDevTools)(Object(F.applyMiddleware)(J.a)));r.a.render(Object(m.jsx)(i.a,{store:B,children:Object(m.jsx)(P,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.2e0be4b6.chunk.js.map