{"version":3,"sources":["actions/users.js","actions/cards.js","api/card.js","api/main.js","components/Card/index.jsx","assets/img/clear.svg","containers/Card.js","assets/img/avatar.svg","components/navbar/Navbar.jsx","components/input/Input.jsx","components/authorization/Registration.jsx","api/user.js","components/authorization/Login.jsx","components/Button/index.jsx","assets/img/add.svg","components/AddForm/index.jsx","containers/AddForm.js","components/Column/index.jsx","containers/Columns.js","App.jsx","helpers/reorderCards.js","store/card/cardsReducer.js","store/user/usersReducer.js","store/index.js","index.jsx"],"names":["INIT_USER","SET_USER","LOGOUT","initUser","type","setUser","logout","SET_CARDS","ADD_CARDS","REMOVE_CARDS","REORDER_CARDS","actionsCards","setCards","cards","payload","addCard","card","removeCard","columnIndex","cardIndex","reorderCards","source","destination","token","headers","Authorization","localStorage","getItem","getCards","dispatch","a","instance","get","response","data","alert","detail","value","post","row","text","id","delete","console","log","updateCard","destinationColumnIndex","destinationCardIndex","patch","seq_num","axios","create","baseURL","Card","children","onRemove","cardID","cardSeqNum","draggableId","index","provided","snapshot","className","ref","innerRef","draggableProps","dragHandleProps","onClick","src","clearSvg","alt","CardContainer","items","useSelector","state","useDispatch","global","confirm","Navbar","isAuth","users","to","avatarLogo","Input","props","onChange","event","setValue","target","placeholder","Registration","useState","username","setUsername","email","setEmail","password","setPassword","setItem","registration","Login","login","Button","AddForm","showForm","textareaRef","setShowForm","onAdd","e","rows","bind","addSvg","onAddCard","onAddColumn","isEmptyColumn","useRef","useEffect","current","focus","Column","title","droppableId","droppableProps","length","map","Columns","initApp","initial","onDragEnd","result","sourceCardIndex","sourceId","destinationId","sourceColumnIndex","parseInt","replace","find","i","item","key","App","removeItem","exact","path","component","currentColumnIndex","splice","sourceCard","destinationCards","Array","from","initialState","rootReducer","combineReducers","action","filter","c","_","filterIndex","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0dcbb1b3.chunk.js","sourcesContent":["export const INIT_USER = 'INIT_USER';\r\nexport const SET_USER = 'SET_USER';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\nexport const initUser = () => ({type: INIT_USER});\r\nexport const setUser = () => ({type: SET_USER});\r\nexport const logout = () => ({type: LOGOUT});\r\n","export const SET_CARDS = 'SET_CARDS';\nexport const ADD_CARDS = 'ADD_CARDS';\nexport const REMOVE_CARDS = 'REMOVE_CARDS';\nexport const REORDER_CARDS = 'REORDER_CARDS';\n\nexport const actionsCards = {\n  setCards: (cards) => ({\n    type: SET_CARDS,\n    payload: cards,\n  }),\n  addCard: (card) => ({\n    type: ADD_CARDS,\n    payload: card,\n  }),\n  removeCard: (columnIndex, cardIndex) => ({\n    type: REMOVE_CARDS,\n    payload: {\n      columnIndex,\n      cardIndex,\n    },\n  }),\n  reorderCards: ({source, destination}) => ({\n    type: REORDER_CARDS,\n    payload: {\n      source,\n      destination,\n    },\n  }),\n};\n","import { instance } from \"./main\";\nimport { actionsCards } from \"../actions/cards\";\nimport { initUser } from \"../actions/users\";\n\nconst token = {\n  headers: { Authorization: `JWT ${localStorage.getItem(\"token\")}` },\n};\n\nexport const getCards = () => {\n  return async (dispatch) => {\n    try {\n      if (localStorage.getItem(\"token\")) {\n        const response = await instance.get(`cards/`, token);\n        dispatch(actionsCards.setCards(response.data));\n        dispatch(initUser());\n      }\n    } catch (e) {\n      alert(e.response.data.detail);\n    }\n  };\n};\n\nexport const addCard = (columnIndex, value) => {\n  return async (dispatch) => {\n    try {\n      const response = await instance.post(\n        `cards/`,\n        { row: columnIndex, text: value },\n        token\n      );\n      dispatch(actionsCards.addCard(response.data));\n    } catch (e) {\n      alert(e.response.data.text[0]);\n    }\n  };\n};\n\nexport const removeCard = (id, columnIndex, cardIndex) => {\n  return async (dispatch) => {\n    try {\n      const response = await instance.delete(`/cards/${id}/`, token);\n      dispatch(actionsCards.removeCard(columnIndex, cardIndex));\n      console.log(response.data);\n    } catch (e) {\n      alert(e.response.data);\n    }\n  };\n};\n\nexport const updateCard = (\n  id,\n  destinationColumnIndex,\n  destinationCardIndex,\n  text\n) => {\n  return async (dispatch) => {\n    try {\n      const response = await instance.patch(\n        `/cards/${id}/`,\n        {\n          row: destinationColumnIndex,\n          seq_num: destinationCardIndex,\n          text: text,\n        },\n        token\n      );\n      dispatch(getCards());\n      console.log(response.data);\n      // dispatch(\n      //   actionsCards.reorderCards({\n      //     source,\n      //     destination,\n      //   }),\n      // );\n    } catch (e) {\n      alert(e.response.data);\n    }\n  };\n};\n","import axios from 'axios';\r\n\r\nexport const instance = axios.create({\r\n  baseURL: 'https://trello.backend.tests.nekidaem.ru/api/v1/',\r\n});\r\n","import React from 'react';\r\nimport {Draggable} from 'react-beautiful-dnd';\r\nimport clearSvg from '../../assets/img/clear.svg';\r\n\r\nimport './Card.scss';\r\n\r\nexport const Card = ({cardIndex, columnIndex, children, onRemove, cardID, cardSeqNum}) =>\r\n  typeof cardIndex !== 'undefined' ? (\r\n    <Draggable draggableId={`card-${columnIndex}-${cardIndex}`} index={cardIndex}>\r\n      {(provided, snapshot) => (\r\n        <div\r\n          className=\"card\"\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}>\r\n          <div>\r\n            {`id ${cardID} `}\r\n            {`sqn ${cardSeqNum}`}\r\n          </div>\r\n\r\n          <div className=\"card__text\">\r\n            <div>{children}</div>\r\n            <div onClick={onRemove} className=\"remove-btn\">\r\n              <img src={clearSvg} alt=\"Clear svg icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Draggable>\r\n  ) : (\r\n    <div className=\"card\">{children}</div>\r\n  );\r\n","export default __webpack_public_path__ + \"static/media/clear.4ac10f93.svg\";","import {Card} from '../components/Card';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {removeCard} from '../api/card';\n\nexport default function CardContainer({\n  columnIndex,\n  cardIndex,\n  children,\n  cardID,\n  cardSeqNum,\n}) {\n  const items = useSelector((state) => state.cards);\n  const dispatch = useDispatch();\n\n  const onRemove = () => {\n    if (global.confirm('Вы действительно хотите удалить?')) {\n      dispatch(removeCard(cardID, columnIndex, cardIndex));\n    }\n  };\n\n  return (\n    <Card\n      children={children}\n      items={items}\n      cardIndex={cardIndex}\n      columnIndex={columnIndex}\n      onRemove={onRemove}\n      cardID={cardID}\n      cardSeqNum={cardSeqNum}\n    />\n  );\n}\n","export default __webpack_public_path__ + \"static/media/avatar.1af8adc2.svg\";","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { logout } from \"../../actions/users\";\nimport avatarLogo from \"../../assets/img/avatar.svg\";\nimport \"./navbar.scss\";\nimport { getCards } from \"../../api/card\";\n\nexport const Navbar = () => {\n  const isAuth = useSelector((state) => state.users.isAuth);\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"navbar\">\n      <div className=\"container\">\n        <NavLink to=\"/\" className=\"navbar__logo\">\n          <div className=\"navbar__header\">Trello</div>\n        </NavLink>\n        {!isAuth && (\n          <div className=\"navbar__login\">\n            <NavLink to=\"/login\">Войти</NavLink>\n          </div>\n        )}\n        {!isAuth && (\n          <div className=\"navbar__registration\">\n            <NavLink to=\"/registration\">Регистрация</NavLink>\n          </div>\n        )}\n        {isAuth && (\n          <div className=\"navbar__login\" onClick={() => dispatch(getCards())}>\n            Получить Карточки\n          </div>\n        )}\n        {isAuth && (\n          <div className=\"navbar__login\" onClick={() => dispatch(logout())}>\n            Выход\n          </div>\n        )}\n        {isAuth && (\n          <NavLink to=\"/\">\n            <img className=\"navbar__avatar\" src={avatarLogo} alt=\"\" />\n          </NavLink>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\r\nimport './input.scss';\r\n\r\nexport const Input = (props) => {\r\n  return (\r\n    <input\r\n      value={props.value}\r\n      onChange={(event) => props.setValue(event.target.value)}\r\n      type={props.type}\r\n      placeholder={props.placeholder}\r\n    />\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport './authorization.scss';\r\nimport {Input} from '../input/Input';\r\nimport {registration} from '../../api/user';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nexport const Registration = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"authorization\">\r\n      <div className=\"authorization__header\">Регистрация</div>\r\n      <Input\r\n        value={username}\r\n        setValue={setUsername}\r\n        type=\"text\"\r\n        placeholder=\"Введите имя...\"\r\n      />\r\n      <Input\r\n        value={email}\r\n        setValue={setEmail}\r\n        type=\"text\"\r\n        placeholder=\"Введите email...\"\r\n      />\r\n      <Input\r\n        value={password}\r\n        setValue={setPassword}\r\n        type=\"password\"\r\n        placeholder=\"Введите пароль...\"\r\n      />\r\n      <button\r\n        className=\"authorization__btn\"\r\n        onClick={() => dispatch(registration(username, email, password))}>\r\n        Зарегистрироваться\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import { instance } from \"./main\";\nimport { logout, setUser } from \"../actions/users\";\n\nexport const registration = (username, email, password) => {\n  return async () => {\n    try {\n      const response = await instance.post(`users/create/`, {\n        username,\n        email,\n        password,\n      });\n      alert(\"Регистрация прошла успешна!\");\n      localStorage.setItem(\"token\", response.data.token);\n    } catch (e) {\n      alert(\"Вы ввели неправильные данные!\");\n      console.log(e.response.data);\n    }\n  };\n};\n\nexport const login = (username, password) => {\n  return async (dispatch) => {\n    try {\n      const response = await instance.post(`users/login/`, {\n        username,\n        password,\n      });\n      localStorage.setItem(\"token\", response.data.token);\n      dispatch(setUser());\n      console.log(localStorage.getItem(\"token\"));\n    } catch (e) {\n      alert(\"Вы ввели неправильное имя или пароль!\");\n      console.log(e.response.data);\n    }\n  };\n};\n\nexport const auth = () => {\n  return async (dispatch) => {\n    try {\n      if (localStorage.getItem(\"token\")) {\n        dispatch(setUser());\n      } else {\n        dispatch(logout());\n      }\n    } catch (e) {\n      localStorage.removeItem(\"token\");\n    }\n  };\n};\n","import React, {useState} from 'react';\r\nimport './authorization.scss';\r\nimport {Input} from '../input/Input';\r\nimport {useDispatch} from 'react-redux';\r\nimport {login} from '../../api/user';\r\n\r\nexport const Login = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"authorization\">\r\n      <div className=\"authorization__header\">Авторизация</div>\r\n      <Input\r\n        value={username}\r\n        setValue={setUsername}\r\n        type=\"text\"\r\n        placeholder=\"Введите имя...\"\r\n      />\r\n      <Input\r\n        value={password}\r\n        setValue={setPassword}\r\n        type=\"password\"\r\n        placeholder=\"Введите пароль...\"\r\n      />\r\n      <button\r\n        className=\"authorization__btn\"\r\n        onClick={() => dispatch(login(username, password))}>\r\n        Войти\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\n\nimport './Button.scss';\n\nexport const Button = ({children, onClick}) => {\n  return (\n    <button className=\"button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/add.0bbf1711.svg\";","import React from 'react';\nimport {Button} from '../../components/Button';\nimport {Card} from '../../components/Card';\nimport addSvg from '../../assets/img/add.svg';\nimport clearSvg from '../../assets/img/clear.svg';\n\nimport './AddForm.scss';\n\nconst AddForm = ({value, showForm, setValue, textareaRef, setShowForm, onAdd}) => {\n  return showForm ? (\n    <div className=\"add-form\">\n      <div className=\"add-form__input\">\n        <Card>\n          <textarea\n            onChange={(e) => setValue(e.target.value)}\n            value={value}\n            placeholder={'Ввести заголовок для этой карточки'}\n            ref={textareaRef}\n            rows=\"3\"\n          />\n        </Card>\n        <div className=\"add-form__bottom\">\n          <Button onClick={onAdd}>{'Добавить карточку'}</Button>\n          <img\n            onClick={setShowForm.bind(this, false)}\n            className=\"add-form__bottom-clear\"\n            src={clearSvg}\n            alt=\"Clear svg icon\"\n          />\n        </div>\n      </div>\n    </div>\n  ) : (\n    <div className=\"add-form__bottom\">\n      <div onClick={setShowForm.bind(this, true)} className=\"add-form__bottom-add-btn\">\n        <img src={addSvg} alt=\"Add svg icon\" />\n        <span>{'Добавить карточку'}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default AddForm;\n","import React, {useState, useRef, useEffect} from 'react';\nimport AddFormBase from '../components/AddForm';\n\nexport const AddForm = ({columnIndex, onAddCard, onAddColumn, isEmptyColumn}) => {\n  const [showForm, setShowForm] = useState(false);\n  const [value, setValue] = useState('');\n  const textareaRef = useRef(null);\n\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.focus();\n    }\n  }, [showForm]);\n\n  const onAdd = () => {\n    if (isEmptyColumn) {\n      onAddColumn(value);\n    } else {\n      onAddCard(columnIndex, value);\n    }\n    setValue('');\n    setShowForm(false);\n  };\n\n  return (\n    <AddFormBase\n      onAdd={onAdd}\n      showForm={showForm}\n      setShowForm={setShowForm}\n      value={value}\n      setValue={setValue}\n      textareaRef={textareaRef}\n    />\n  );\n};\n","import React from 'react';\r\nimport {Droppable} from 'react-beautiful-dnd';\r\n\r\nimport {AddForm} from '../../containers/AddForm';\r\nimport CardContainer from '../../containers/Card';\r\nimport './Column.scss';\r\n\r\nexport const Column = ({columnIndex, title, cards, onAddCard}) => {\r\n  return cards ? (\r\n    <Droppable type=\"CARDS\" droppableId={`column-${columnIndex}`}>\r\n      {(provided) => (\r\n        <div className=\"column\" {...provided.droppableProps} ref={provided.innerRef}>\r\n          <div className=\"column__inner\">\r\n            {title && (\r\n              <div className=\"column__title\">\r\n                <b>{title}</b>\r\n                <b>{cards.length}</b>\r\n              </div>\r\n            )}\r\n            <div className=\"column__items\">\r\n              {cards.map((card, index) => (\r\n                <CardContainer\r\n                  key={index}\r\n                  columnIndex={columnIndex}\r\n                  cardIndex={index}\r\n                  cardID={card.id}\r\n                  cardSeqNum={card.seq_num}>\r\n                  {card.text}\r\n                </CardContainer>\r\n              ))}\r\n              {provided.placeholder}\r\n            </div>\r\n            <AddForm\r\n              isEmptyColumn={false}\r\n              columnIndex={columnIndex}\r\n              onAddCard={onAddCard}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Droppable>\r\n  ) : (\r\n    <div className={'column column--empty'}>\r\n      <div className=\"column__inner\">\r\n        <AddForm isEmptyColumn={true} columnIndex={columnIndex} onAddCard={onAddCard} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Fragment, useEffect } from \"react\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { Column } from \"../components/Column\";\nimport { addCard, getCards, updateCard } from \"../api/card\";\nimport { initUser } from \"../actions/users\";\n\nexport const Columns = () => {\n  const items = useSelector((state) => state.cards);\n  const initApp = useSelector((state) => state.users.initial);\n  const isAuth = useSelector((state) => state.users.isAuth);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!initApp) dispatch(initUser());\n    if (isAuth) dispatch(getCards());\n  }, [isAuth, initApp, dispatch]);\n\n  const onDragEnd = (result) => {\n    const { source, destination } = result;\n    if (\n      !destination ||\n      (source.droppableId === destination.droppableId &&\n        source.index === destination.index)\n    ) {\n      return;\n    }\n\n    // Достаем координаты карточки\n    const { index: sourceCardIndex, droppableId: sourceId } = source;\n    const { index: destinationCardIndex, droppableId: destinationId } =\n      destination;\n    const sourceColumnIndex = parseInt(sourceId.replace(\"column-\", \"\"));\n    const destinationColumnIndex = parseInt(\n      destinationId.replace(\"column-\", \"\")\n    );\n\n    // Нашли у карточки ID и Text\n    const { id, text } = items\n      .find((i, index) => index === sourceColumnIndex)\n      .cards.find((i, index) => index === sourceCardIndex);\n\n    dispatch(\n      updateCard(id, destinationColumnIndex, destinationCardIndex, text)\n    );\n  };\n\n  const onAddCard = (columnIndex, value) => {\n    dispatch(addCard(columnIndex, value));\n  };\n\n  return (\n    <Fragment>\n      <DragDropContext onDragEnd={onDragEnd}>\n        {items.map((item, index) => (\n          <Column\n            {...item}\n            key={index}\n            columnIndex={index}\n            onAddCard={onAddCard}\n          />\n        ))}\n      </DragDropContext>\n    </Fragment>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { Route, Switch, Redirect, HashRouter } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navbar } from \"./components/navbar/Navbar\";\nimport { Registration } from \"./components/authorization/Registration\";\nimport { Login } from \"./components/authorization/Login\";\nimport { Columns } from \"./containers/Columns\";\nimport { auth } from \"./api/user\";\nimport \"./app.scss\";\n\nexport const App = () => {\n  const isAuth = useSelector((state) => state.users.isAuth);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isAuth) {\n      dispatch(auth());\n    }\n  }, [dispatch, isAuth]);\n\n  return (\n    <HashRouter>\n      <div className=\"app\">\n        <Navbar />\n        <div className=\"wrap\">\n          {!isAuth ? (\n            <Switch>\n              <Route path=\"/registration\" component={Registration} />\n              <Route path=\"/login\" component={Login} />\n              <Redirect to=\"/login\" />\n            </Switch>\n          ) : (\n            <Switch>\n              <Route exact path=\"/\" component={Columns} />\n              <Redirect to=\"/\" />\n            </Switch>\n          )}\n        </div>\n      </div>\n    </HashRouter>\n  );\n};\n","export const reorderCards = ({state, source, destination}) => {\n  const {index: sourceCardIndex, droppableId: sourceId} = source;\n  const {index: destinationCardIndex, droppableId: destinationId} = destination;\n  const sourceColumnIndex = parseInt(sourceId.replace('column-', ''));\n  const destinationColumnIndex = parseInt(destinationId.replace('column-', ''));\n\n  return state.map((item, currentColumnIndex) => {\n    if (destinationColumnIndex === currentColumnIndex) {\n      const [sourceCard] = state[sourceColumnIndex].cards.splice(sourceCardIndex, 1);\n      const destinationCards = Array.from(state[destinationColumnIndex].cards);\n      destinationCards.splice(destinationCardIndex, 0, sourceCard);\n      item.cards = destinationCards;\n    }\n\n    return item;\n  });\n};\n","import {ADD_CARDS, REMOVE_CARDS, REORDER_CARDS, SET_CARDS} from '../../actions/cards';\r\nimport {reorderCards} from '../../helpers/reorderCards';\r\n\r\nconst initialState = [\r\n  {\r\n    title: 'ON HOLD',\r\n    cards: [],\r\n  },\r\n  {\r\n    title: 'IN PROGRESS',\r\n    cards: [],\r\n  },\r\n  {\r\n    title: 'NEEDS REVIEW',\r\n    cards: [],\r\n  },\r\n  {\r\n    title: 'APPROVED',\r\n    cards: [],\r\n  },\r\n];\r\n\r\nexport default function cardsReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_CARDS:\r\n      return state.map((item, index) => {\r\n        return {\r\n          ...item,\r\n          cards: [...action.payload.filter((c) => c.row === `${index}`)],\r\n        };\r\n      });\r\n    case ADD_CARDS:\r\n      return state.map((item, index) => {\r\n        if (+action.payload.row === index) {\r\n          return {\r\n            ...item,\r\n            cards: [\r\n              ...item.cards,\r\n              {\r\n                id: action.payload.id,\r\n                row: action.payload.row,\r\n                seq_num: action.payload.seq_num,\r\n                text: action.payload.text,\r\n              },\r\n            ],\r\n          };\r\n        }\r\n        return item;\r\n      });\r\n    case REMOVE_CARDS:\r\n      return state.map((item, columnIndex) => {\r\n        if (action.payload.columnIndex === columnIndex) {\r\n          return {\r\n            ...item,\r\n            cards: item.cards.filter(\r\n              (_, filterIndex) => filterIndex !== action.payload.cardIndex,\r\n            ),\r\n          };\r\n        }\r\n        return item;\r\n      });\r\n    case REORDER_CARDS: {\r\n      const {source, destination} = action.payload;\r\n      return reorderCards({\r\n        state,\r\n        source,\r\n        destination,\r\n      });\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { INIT_USER, LOGOUT, SET_USER } from \"../../actions/users\";\n\nconst initialState = {\n  initial: false,\n  isAuth: false,\n};\n\nexport default function usersReducer(state = initialState, action) {\n  switch (action.type) {\n    case INIT_USER:\n      return {\n        ...state,\n        initial: true,\n      };\n    case SET_USER:\n      return {\n        ...state,\n        isAuth: true,\n      };\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        initial: false,\n        isAuth: false,\n      };\n    default:\n      return state;\n  }\n}\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport cardsReducer from './card/cardsReducer';\r\nimport usersReducer from './user/usersReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  users: usersReducer,\r\n  cards: cardsReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk)),\r\n);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport {store} from './store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}