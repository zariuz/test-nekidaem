{"version":3,"sources":["actions/cards.js","api/card.js","components/Card/index.jsx","assets/img/clear.svg","containers/Card.js","actions/users.js","assets/img/avatar.svg","components/navbar/Navbar.jsx","components/input/Input.jsx","api/user.js","components/authorization/Registration.jsx","components/authorization/Login.jsx","components/Button/index.jsx","assets/img/add.svg","components/AddForm/index.jsx","containers/AddForm.js","components/Column/index.jsx","containers/Columns.js","App.jsx","store/card/cardsReducer.js","store/user/usersReducer.js","store/index.js","index.jsx"],"names":["SET_CARDS","ADD_CARDS","REMOVE_CARDS","actionsCards","setCards","cards","type","payload","addCard","card","removeCard","columnIndex","cardIndex","instance","axios","create","baseURL","interceptors","request","use","config","a","token","localStorage","getItem","headers","error","response","status","document","location","reload","getCards","dispatch","get","data","initUser","alert","detail","value","post","row","text","id","delete","updateCard","destinationColumnIndex","destinationCardIndex","patch","seq_num","Card","children","onRemove","cardID","cardSeqNum","draggableId","index","provided","snapshot","className","ref","innerRef","draggableProps","dragHandleProps","onClick","src","clearSvg","alt","CardContainer","items","useSelector","state","useDispatch","global","confirm","INIT_USER","SET_USER","LOGOUT","setUser","logout","Navbar","isAuth","users","to","avatarLogo","Input","props","onChange","event","setValue","target","placeholder","Registration","useState","username","setUsername","email","setEmail","password","setPassword","setItem","console","log","registration","Login","login","Button","AddForm","showForm","textareaRef","setShowForm","onAdd","e","rows","bind","addSvg","onAddCard","onAddColumn","isEmptyColumn","useRef","useEffect","current","focus","Column","title","droppableId","droppableProps","length","map","Columns","initApp","initial","onDragEnd","result","source","destination","sourceCardIndex","sourceId","destinationId","sourceColumnIndex","parseInt","replace","find","i","item","key","App","removeItem","exact","path","component","initialState","rootReducer","combineReducers","action","filter","c","_","filterIndex","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.877f85f9.chunk.js","sourcesContent":["export const SET_CARDS = \"SET_CARDS\";\nexport const ADD_CARDS = \"ADD_CARDS\";\nexport const REMOVE_CARDS = \"REMOVE_CARDS\";\n\nexport const actionsCards = {\n  setCards: (cards) => ({\n    type: SET_CARDS,\n    payload: cards,\n  }),\n  addCard: (card) => ({\n    type: ADD_CARDS,\n    payload: card,\n  }),\n  removeCard: (columnIndex, cardIndex) => ({\n    type: REMOVE_CARDS,\n    payload: {\n      columnIndex,\n      cardIndex,\n    },\n  }),\n};\n","import axios from \"axios\";\nimport { actionsCards } from \"../actions/cards\";\nimport { initUser } from \"../actions/users\";\n\nlet instance = axios.create({\n  baseURL: \"https://trello.backend.tests.nekidaem.ru/api/v1/\",\n});\n\ninstance.interceptors.request.use(\n  async (config) => {\n    let token = localStorage.getItem(\"token\");\n    if (!!token) {\n      config.headers[\"Authorization\"] = `JWT ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    if (error.response.status === 401 || error.response.status === 403) {\n      document.location.reload();\n    }\n    throw error;\n  }\n);\n\nexport const getCards = () => {\n  return async (dispatch) => {\n    try {\n      const response = await instance.get(`cards/`);\n      dispatch(actionsCards.setCards(response.data));\n      dispatch(initUser());\n    } catch (e) {\n      alert(e.response.data.detail);\n    }\n  };\n};\n\nexport const addCard = (columnIndex, value) => {\n  return async (dispatch) => {\n    try {\n      const response = await instance.post(`cards/`, {\n        row: columnIndex,\n        text: value,\n      });\n      dispatch(actionsCards.addCard(response.data));\n    } catch (e) {\n      alert(e.response.data.text[0]);\n    }\n  };\n};\n\nexport const removeCard = (id, columnIndex, cardIndex) => {\n  return async (dispatch) => {\n    try {\n      await instance.delete(`/cards/${id}/`);\n      dispatch(actionsCards.removeCard(columnIndex, cardIndex));\n    } catch (e) {\n      alert(e.response.data);\n    }\n  };\n};\n\nexport const updateCard = (\n  id,\n  destinationColumnIndex,\n  destinationCardIndex,\n  text\n) => {\n  return async (dispatch) => {\n    try {\n      await instance.patch(`/cards/${id}/`, {\n        row: destinationColumnIndex,\n        seq_num: destinationCardIndex,\n        text: text,\n      });\n      dispatch(getCards());\n    } catch (e) {\n      alert(e.response.data);\n    }\n  };\n};\n","import React from 'react';\r\nimport {Draggable} from 'react-beautiful-dnd';\r\nimport clearSvg from '../../assets/img/clear.svg';\r\n\r\nimport './Card.scss';\r\n\r\nexport const Card = ({cardIndex, columnIndex, children, onRemove, cardID, cardSeqNum}) =>\r\n  typeof cardIndex !== 'undefined' ? (\r\n    <Draggable draggableId={`card-${columnIndex}-${cardIndex}`} index={cardIndex}>\r\n      {(provided, snapshot) => (\r\n        <div\r\n          className=\"card\"\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}>\r\n          <div>\r\n            {`id ${cardID} `}\r\n            {`sqn ${cardSeqNum}`}\r\n          </div>\r\n\r\n          <div className=\"card__text\">\r\n            <div>{children}</div>\r\n            <div onClick={onRemove} className=\"remove-btn\">\r\n              <img src={clearSvg} alt=\"Clear svg icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Draggable>\r\n  ) : (\r\n    <div className=\"card\">{children}</div>\r\n  );\r\n","export default __webpack_public_path__ + \"static/media/clear.4ac10f93.svg\";","import {Card} from '../components/Card';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {removeCard} from '../api/card';\n\nexport default function CardContainer({\n  columnIndex,\n  cardIndex,\n  children,\n  cardID,\n  cardSeqNum,\n}) {\n  const items = useSelector((state) => state.cards);\n  const dispatch = useDispatch();\n\n  const onRemove = () => {\n    if (global.confirm('Вы действительно хотите удалить?')) {\n      dispatch(removeCard(cardID, columnIndex, cardIndex));\n    }\n  };\n\n  return (\n    <Card\n      children={children}\n      items={items}\n      cardIndex={cardIndex}\n      columnIndex={columnIndex}\n      onRemove={onRemove}\n      cardID={cardID}\n      cardSeqNum={cardSeqNum}\n    />\n  );\n}\n","export const INIT_USER = 'INIT_USER';\r\nexport const SET_USER = 'SET_USER';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\nexport const initUser = () => ({type: INIT_USER});\r\nexport const setUser = () => ({type: SET_USER});\r\nexport const logout = () => ({type: LOGOUT});\r\n","export default __webpack_public_path__ + \"static/media/avatar.1af8adc2.svg\";","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { logout } from \"../../actions/users\";\nimport avatarLogo from \"../../assets/img/avatar.svg\";\nimport \"./navbar.scss\";\n\nexport const Navbar = () => {\n  const isAuth = useSelector((state) => state.users.isAuth);\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"navbar\">\n      <div className=\"container\">\n        <NavLink to=\"/\" className=\"navbar__logo\">\n          <div className=\"navbar__header\">Trello</div>\n        </NavLink>\n        {!isAuth && (\n          <div className=\"navbar__login\">\n            <NavLink to=\"/login\">Войти</NavLink>\n          </div>\n        )}\n        {!isAuth && (\n          <div className=\"navbar__registration\">\n            <NavLink to=\"/registration\">Регистрация</NavLink>\n          </div>\n        )}\n        {isAuth && (\n          <div className=\"navbar__login\" onClick={() => dispatch(logout())}>\n            Выход\n          </div>\n        )}\n        {isAuth && (\n          <NavLink to=\"/\">\n            <img className=\"navbar__avatar\" src={avatarLogo} alt=\"\" />\n          </NavLink>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\r\nimport './input.scss';\r\n\r\nexport const Input = (props) => {\r\n  return (\r\n    <input\r\n      value={props.value}\r\n      onChange={(event) => props.setValue(event.target.value)}\r\n      type={props.type}\r\n      placeholder={props.placeholder}\r\n    />\r\n  );\r\n};\r\n","import axios from \"axios\";\nimport { logout, setUser } from \"../actions/users\";\n\nlet instance = axios.create({\n  baseURL: \"https://trello.backend.tests.nekidaem.ru/api/v1/\",\n});\n\nexport const registration = (username, email, password) => {\n  return async (dispatch) => {\n    try {\n      const response = await instance.post(`users/create/`, {\n        username,\n        email,\n        password,\n      });\n      alert(\"Регистрация прошла успешна!\");\n      localStorage.setItem(\"token\", response.data.token);\n      dispatch(setUser());\n    } catch (e) {\n      alert(\"Вы ввели неправильные данные!\");\n      console.log(e.response.data);\n    }\n  };\n};\n\nexport const login = (username, password) => {\n  return async (dispatch) => {\n    try {\n      const response = await instance.post(`users/login/`, {\n        username,\n        password,\n      });\n      localStorage.setItem(\"token\", response.data.token);\n      dispatch(setUser());\n      console.log(localStorage.getItem(\"token\"));\n    } catch (e) {\n      alert(\"Вы ввели неправильное имя или пароль!\");\n      console.log(e.response.data);\n    }\n  };\n};\n\nexport const auth = () => {\n  return async (dispatch) => {\n    try {\n      if (localStorage.getItem(\"token\")) {\n        dispatch(setUser());\n      } else {\n        dispatch(logout());\n      }\n    } catch (e) {\n      localStorage.removeItem(\"token\");\n    }\n  };\n};\n","import React, {useState} from 'react';\r\nimport './authorization.scss';\r\nimport {Input} from '../input/Input';\r\nimport {registration} from '../../api/user';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nexport const Registration = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"authorization\">\r\n      <div className=\"authorization__header\">Регистрация</div>\r\n      <Input\r\n        value={username}\r\n        setValue={setUsername}\r\n        type=\"text\"\r\n        placeholder=\"Введите имя...\"\r\n      />\r\n      <Input\r\n        value={email}\r\n        setValue={setEmail}\r\n        type=\"text\"\r\n        placeholder=\"Введите email...\"\r\n      />\r\n      <Input\r\n        value={password}\r\n        setValue={setPassword}\r\n        type=\"password\"\r\n        placeholder=\"Введите пароль...\"\r\n      />\r\n      <button\r\n        className=\"authorization__btn\"\r\n        onClick={() => dispatch(registration(username, email, password))}>\r\n        Зарегистрироваться\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport './authorization.scss';\r\nimport {Input} from '../input/Input';\r\nimport {useDispatch} from 'react-redux';\r\nimport {login} from '../../api/user';\r\n\r\nexport const Login = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"authorization\">\r\n      <div className=\"authorization__header\">Авторизация</div>\r\n      <Input\r\n        value={username}\r\n        setValue={setUsername}\r\n        type=\"text\"\r\n        placeholder=\"Введите имя...\"\r\n      />\r\n      <Input\r\n        value={password}\r\n        setValue={setPassword}\r\n        type=\"password\"\r\n        placeholder=\"Введите пароль...\"\r\n      />\r\n      <button\r\n        className=\"authorization__btn\"\r\n        onClick={() => dispatch(login(username, password))}>\r\n        Войти\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\n\nimport './Button.scss';\n\nexport const Button = ({children, onClick}) => {\n  return (\n    <button className=\"button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/add.0bbf1711.svg\";","import React from 'react';\nimport {Button} from '../../components/Button';\nimport {Card} from '../../components/Card';\nimport addSvg from '../../assets/img/add.svg';\nimport clearSvg from '../../assets/img/clear.svg';\n\nimport './AddForm.scss';\n\nconst AddForm = ({value, showForm, setValue, textareaRef, setShowForm, onAdd}) => {\n  return showForm ? (\n    <div className=\"add-form\">\n      <div className=\"add-form__input\">\n        <Card>\n          <textarea\n            onChange={(e) => setValue(e.target.value)}\n            value={value}\n            placeholder={'Ввести заголовок для этой карточки'}\n            ref={textareaRef}\n            rows=\"3\"\n          />\n        </Card>\n        <div className=\"add-form__bottom\">\n          <Button onClick={onAdd}>{'Добавить карточку'}</Button>\n          <img\n            onClick={setShowForm.bind(this, false)}\n            className=\"add-form__bottom-clear\"\n            src={clearSvg}\n            alt=\"Clear svg icon\"\n          />\n        </div>\n      </div>\n    </div>\n  ) : (\n    <div className=\"add-form__bottom\">\n      <div onClick={setShowForm.bind(this, true)} className=\"add-form__bottom-add-btn\">\n        <img src={addSvg} alt=\"Add svg icon\" />\n        <span>{'Добавить карточку'}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default AddForm;\n","import React, {useState, useRef, useEffect} from 'react';\nimport AddFormBase from '../components/AddForm';\n\nexport const AddForm = ({columnIndex, onAddCard, onAddColumn, isEmptyColumn}) => {\n  const [showForm, setShowForm] = useState(false);\n  const [value, setValue] = useState('');\n  const textareaRef = useRef(null);\n\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.focus();\n    }\n  }, [showForm]);\n\n  const onAdd = () => {\n    if (isEmptyColumn) {\n      onAddColumn(value);\n    } else {\n      onAddCard(columnIndex, value);\n    }\n    setValue('');\n    setShowForm(false);\n  };\n\n  return (\n    <AddFormBase\n      onAdd={onAdd}\n      showForm={showForm}\n      setShowForm={setShowForm}\n      value={value}\n      setValue={setValue}\n      textareaRef={textareaRef}\n    />\n  );\n};\n","import React from 'react';\r\nimport {Droppable} from 'react-beautiful-dnd';\r\n\r\nimport {AddForm} from '../../containers/AddForm';\r\nimport CardContainer from '../../containers/Card';\r\nimport './Column.scss';\r\n\r\nexport const Column = ({columnIndex, title, cards, onAddCard}) => {\r\n  return cards ? (\r\n    <Droppable type=\"CARDS\" droppableId={`column-${columnIndex}`}>\r\n      {(provided) => (\r\n        <div className=\"column\" {...provided.droppableProps} ref={provided.innerRef}>\r\n          <div className=\"column__inner\">\r\n            {title && (\r\n              <div className=\"column__title\">\r\n                <b>{title}</b>\r\n                <b>{cards.length}</b>\r\n              </div>\r\n            )}\r\n            <div className=\"column__items\">\r\n              {cards.map((card, index) => (\r\n                <CardContainer\r\n                  key={index}\r\n                  columnIndex={columnIndex}\r\n                  cardIndex={index}\r\n                  cardID={card.id}\r\n                  cardSeqNum={card.seq_num}>\r\n                  {card.text}\r\n                </CardContainer>\r\n              ))}\r\n              {provided.placeholder}\r\n            </div>\r\n            <AddForm\r\n              isEmptyColumn={false}\r\n              columnIndex={columnIndex}\r\n              onAddCard={onAddCard}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Droppable>\r\n  ) : (\r\n    <div className={'column column--empty'}>\r\n      <div className=\"column__inner\">\r\n        <AddForm isEmptyColumn={true} columnIndex={columnIndex} onAddCard={onAddCard} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Fragment, useEffect } from \"react\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { Column } from \"../components/Column\";\nimport { addCard, getCards, updateCard } from \"../api/card\";\nimport { initUser } from \"../actions/users\";\n\nexport const Columns = () => {\n  const items = useSelector((state) => state.cards);\n  const initApp = useSelector((state) => state.users.initial);\n  const isAuth = useSelector((state) => state.users.isAuth);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!initApp) dispatch(initUser());\n    if (isAuth) dispatch(getCards());\n  }, [isAuth, initApp, dispatch]);\n\n  const onDragEnd = (result) => {\n    const { source, destination } = result;\n    if (\n      !destination ||\n      (source.droppableId === destination.droppableId &&\n        source.index === destination.index)\n    ) {\n      return;\n    }\n\n    // Достаем координаты карточки\n    const { index: sourceCardIndex, droppableId: sourceId } = source;\n    const { index: destinationCardIndex, droppableId: destinationId } =\n      destination;\n    const sourceColumnIndex = parseInt(sourceId.replace(\"column-\", \"\"));\n    const destinationColumnIndex = parseInt(\n      destinationId.replace(\"column-\", \"\")\n    );\n\n    // Нашли у карточки ID и Text\n    const { id, text } = items\n      .find((i, index) => index === sourceColumnIndex)\n      .cards.find((i, index) => index === sourceCardIndex);\n\n    dispatch(\n      updateCard(id, destinationColumnIndex, destinationCardIndex, text)\n    );\n  };\n\n  const onAddCard = (columnIndex, value) => {\n    dispatch(addCard(columnIndex, value));\n  };\n\n  return (\n    <Fragment>\n      <DragDropContext onDragEnd={onDragEnd}>\n        {items.map((item, index) => (\n          <Column\n            {...item}\n            key={index}\n            columnIndex={index}\n            onAddCard={onAddCard}\n          />\n        ))}\n      </DragDropContext>\n    </Fragment>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { Route, Switch, Redirect, HashRouter } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navbar } from \"./components/navbar/Navbar\";\nimport { Registration } from \"./components/authorization/Registration\";\nimport { Login } from \"./components/authorization/Login\";\nimport { Columns } from \"./containers/Columns\";\nimport { auth } from \"./api/user\";\nimport \"./app.scss\";\n\nexport const App = () => {\n  const isAuth = useSelector((state) => state.users.isAuth);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isAuth) {\n      dispatch(auth());\n    }\n  }, [dispatch, isAuth]);\n\n  return (\n    <HashRouter>\n      <div className=\"app\">\n        <Navbar />\n        <div className=\"wrap\">\n          {!isAuth ? (\n            <Switch>\n              <Route path=\"/registration\" component={Registration} />\n              <Route path=\"/login\" component={Login} />\n              <Redirect to=\"/login\" />\n            </Switch>\n          ) : (\n            <Switch>\n              <Route exact path=\"/\" component={Columns} />\n              <Redirect to=\"/\" />\n            </Switch>\n          )}\n        </div>\n      </div>\n    </HashRouter>\n  );\n};\n","import { ADD_CARDS, REMOVE_CARDS, SET_CARDS } from \"../../actions/cards\";\n\nconst initialState = [\n  {\n    title: \"ON HOLD\",\n    cards: [],\n  },\n  {\n    title: \"IN PROGRESS\",\n    cards: [],\n  },\n  {\n    title: \"NEEDS REVIEW\",\n    cards: [],\n  },\n  {\n    title: \"APPROVED\",\n    cards: [],\n  },\n];\n\nexport default function cardsReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_CARDS:\n      return state.map((item, index) => {\n        return {\n          ...item,\n          cards: [...action.payload.filter((c) => c.row === `${index}`)],\n        };\n      });\n    case ADD_CARDS:\n      return state.map((item, index) => {\n        if (+action.payload.row === index) {\n          return {\n            ...item,\n            cards: [\n              ...item.cards,\n              {\n                id: action.payload.id,\n                row: action.payload.row,\n                seq_num: action.payload.seq_num,\n                text: action.payload.text,\n              },\n            ],\n          };\n        }\n        return item;\n      });\n    case REMOVE_CARDS:\n      return state.map((item, columnIndex) => {\n        if (action.payload.columnIndex === columnIndex) {\n          return {\n            ...item,\n            cards: item.cards.filter(\n              (_, filterIndex) => filterIndex !== action.payload.cardIndex\n            ),\n          };\n        }\n        return item;\n      });\n    default:\n      return state;\n  }\n}\n","import { INIT_USER, LOGOUT, SET_USER } from \"../../actions/users\";\n\nconst initialState = {\n  initial: false,\n  isAuth: false,\n};\n\nexport default function usersReducer(state = initialState, action) {\n  switch (action.type) {\n    case INIT_USER:\n      return {\n        ...state,\n        initial: true,\n      };\n    case SET_USER:\n      return {\n        ...state,\n        isAuth: true,\n      };\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        initial: false,\n        isAuth: false,\n      };\n    default:\n      return state;\n  }\n}\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport cardsReducer from './card/cardsReducer';\r\nimport usersReducer from './user/usersReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  users: usersReducer,\r\n  cards: cardsReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk)),\r\n);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport {store} from './store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}