{"version":3,"sources":["actions/cards.js","api/card.js","api/main.js","components/Card/index.jsx","assets/img/clear.svg","containers/Card.js","actions/users.js","assets/img/avatar.svg","components/navbar/Navbar.jsx","components/input/Input.jsx","components/authorization/Registration.jsx","api/user.js","components/authorization/Login.jsx","components/Button/index.jsx","assets/img/add.svg","components/AddForm/index.jsx","containers/AddForm.js","components/Column/index.jsx","containers/Columns.js","App.jsx","helpers/reorderCards.js","store/card/cardsReducer.js","store/user/usersReducer.js","store/index.js","index.jsx"],"names":["SET_CARDS","ADD_CARDS","REMOVE_CARDS","REORDER_CARDS","actionsCards","setCards","cards","type","payload","addCard","card","removeCard","columnIndex","cardIndex","reorderCards","source","destination","token","headers","Authorization","localStorage","getItem","getCards","dispatch","a","instance","get","response","data","alert","value","post","row","text","id","delete","updateCard","destinationColumnIndex","destinationCardIndex","patch","seq_num","axios","create","baseURL","Card","children","onRemove","cardID","cardSeqNum","draggableId","index","provided","snapshot","className","ref","innerRef","draggableProps","dragHandleProps","onClick","src","clearSvg","alt","CardContainer","items","useSelector","state","useDispatch","global","confirm","SET_USER","LOGOUT","setUser","logout","Navbar","isAuth","users","to","avatarLogo","Input","props","onChange","event","setValue","target","placeholder","Registration","useState","username","setUsername","email","setEmail","password","setPassword","setItem","console","log","registration","Login","login","Button","AddForm","showForm","textareaRef","setShowForm","onAdd","e","rows","bind","addSvg","onAddCard","onAddColumn","isEmptyColumn","useRef","useEffect","current","focus","Column","title","droppableId","droppableProps","length","map","Columns","onDragEnd","result","sourceCardIndex","sourceId","destinationId","sourceColumnIndex","parseInt","replace","find","i","item","key","App","removeItem","exact","path","component","currentColumnIndex","splice","sourceCard","destinationCards","Array","from","initialState","rootReducer","combineReducers","action","filter","c","_","filterIndex","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3af534f8.chunk.js","sourcesContent":["export const SET_CARDS = 'SET_CARDS';\nexport const ADD_CARDS = 'ADD_CARDS';\nexport const REMOVE_CARDS = 'REMOVE_CARDS';\nexport const REORDER_CARDS = 'REORDER_CARDS';\n\nexport const actionsCards = {\n  setCards: (cards) => ({\n    type: SET_CARDS,\n    payload: cards,\n  }),\n  addCard: (card) => ({\n    type: ADD_CARDS,\n    payload: card,\n  }),\n  removeCard: (columnIndex, cardIndex) => ({\n    type: REMOVE_CARDS,\n    payload: {\n      columnIndex,\n      cardIndex,\n    },\n  }),\n  reorderCards: ({source, destination}) => ({\n    type: REORDER_CARDS,\n    payload: {\n      source,\n      destination,\n    },\n  }),\n};\n","import {instance} from './main';\r\nimport {actionsCards} from '../actions/cards';\r\n\r\nconst token = {\r\n  headers: {Authorization: `JWT ${localStorage.getItem('token')}`},\r\n};\r\n\r\nexport const getCards = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await instance.get(`cards/`, token);\r\n      dispatch(actionsCards.setCards(response.data));\r\n    } catch (e) {\r\n      alert(e.response.data);\r\n    }\r\n  };\r\n};\r\n\r\nexport const addCard = (columnIndex, value) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await instance.post(\r\n        `cards/`,\r\n        {row: columnIndex, text: value},\r\n        token,\r\n      );\r\n      dispatch(actionsCards.addCard(response.data));\r\n    } catch (e) {\r\n      alert(e.response.data.text[0]);\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeCard = (id, columnIndex, cardIndex) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await instance.delete(`/cards/${id}/`, token);\r\n      dispatch(actionsCards.removeCard(columnIndex, cardIndex));\r\n    } catch (e) {\r\n      alert(e.response.data);\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateCard = (id, destinationColumnIndex, destinationCardIndex, text) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await instance.patch(\r\n        `/cards/${id}/`,\r\n        {row: destinationColumnIndex, seq_num: destinationCardIndex, text: text},\r\n        token,\r\n      );\r\n      dispatch(getCards());\r\n\r\n      // dispatch(\r\n      //   actionsCards.reorderCards({\r\n      //     source,\r\n      //     destination,\r\n      //   }),\r\n      // );\r\n    } catch (e) {\r\n      alert(e.response.data);\r\n    }\r\n  };\r\n};\r\n","import axios from 'axios';\r\n\r\nexport const instance = axios.create({\r\n  baseURL: 'https://trello.backend.tests.nekidaem.ru/api/v1/',\r\n});\r\n","import React from 'react';\r\nimport {Draggable} from 'react-beautiful-dnd';\r\nimport clearSvg from '../../assets/img/clear.svg';\r\n\r\nimport './Card.scss';\r\n\r\nexport const Card = ({cardIndex, columnIndex, children, onRemove, cardID, cardSeqNum}) =>\r\n  typeof cardIndex !== 'undefined' ? (\r\n    <Draggable draggableId={`card-${columnIndex}-${cardIndex}`} index={cardIndex}>\r\n      {(provided, snapshot) => (\r\n        <div\r\n          className=\"card\"\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}>\r\n          <span>{children}</span>\r\n          {`ID ${cardID} `}\r\n          {`SqN ${cardSeqNum}`}\r\n\r\n          <div onClick={onRemove} className=\"remove-btn\">\r\n            <img src={clearSvg} alt=\"Clear svg icon\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Draggable>\r\n  ) : (\r\n    <div className=\"card\">{children}</div>\r\n  );\r\n","export default __webpack_public_path__ + \"static/media/clear.4ac10f93.svg\";","import {Card} from '../components/Card';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {removeCard} from '../api/card';\n\nexport default function CardContainer({\n  columnIndex,\n  cardIndex,\n  children,\n  cardID,\n  cardSeqNum,\n}) {\n  const items = useSelector((state) => state.cards);\n  const dispatch = useDispatch();\n\n  const onRemove = () => {\n    if (global.confirm('Вы действительно хотите удалить?')) {\n      dispatch(removeCard(cardID, columnIndex, cardIndex));\n    }\n  };\n\n  return (\n    <Card\n      children={children}\n      items={items}\n      cardIndex={cardIndex}\n      columnIndex={columnIndex}\n      onRemove={onRemove}\n      cardID={cardID}\n      cardSeqNum={cardSeqNum}\n    />\n  );\n}\n","export const SET_USER = 'SET_USER';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\nexport const setUser = () => ({type: SET_USER});\r\nexport const logout = () => ({type: LOGOUT});\r\n","export default __webpack_public_path__ + \"static/media/avatar.1af8adc2.svg\";","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {logout} from '../../actions/users';\r\nimport avatarLogo from '../../assets/img/avatar.svg';\r\nimport './navbar.scss';\r\n\r\nexport const Navbar = () => {\r\n  const isAuth = useSelector((state) => state.users.isAuth);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"container\">\r\n        <NavLink to=\"/\" className=\"navbar__logo\">\r\n          <div className=\"navbar__header\">Trello</div>\r\n        </NavLink>\r\n        {!isAuth && (\r\n          <div className=\"navbar__login\">\r\n            <NavLink to=\"/login\">Войти</NavLink>\r\n          </div>\r\n        )}\r\n        {!isAuth && (\r\n          <div className=\"navbar__registration\">\r\n            <NavLink to=\"/registration\">Регистрация</NavLink>\r\n          </div>\r\n        )}\r\n        {isAuth && (\r\n          <div className=\"navbar__login\" onClick={() => dispatch(logout())}>\r\n            Выход\r\n          </div>\r\n        )}\r\n        {isAuth && (\r\n          <NavLink to=\"/\">\r\n            <img className=\"navbar__avatar\" src={avatarLogo} alt=\"\" />\r\n          </NavLink>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport './input.scss';\r\n\r\nexport const Input = (props) => {\r\n  return (\r\n    <input\r\n      value={props.value}\r\n      onChange={(event) => props.setValue(event.target.value)}\r\n      type={props.type}\r\n      placeholder={props.placeholder}\r\n    />\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport './authorization.scss';\r\nimport {Input} from '../input/Input';\r\nimport {registration} from '../../api/user';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nexport const Registration = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"authorization\">\r\n      <div className=\"authorization__header\">Регистрация</div>\r\n      <Input\r\n        value={username}\r\n        setValue={setUsername}\r\n        type=\"text\"\r\n        placeholder=\"Введите имя...\"\r\n      />\r\n      <Input\r\n        value={email}\r\n        setValue={setEmail}\r\n        type=\"text\"\r\n        placeholder=\"Введите email...\"\r\n      />\r\n      <Input\r\n        value={password}\r\n        setValue={setPassword}\r\n        type=\"password\"\r\n        placeholder=\"Введите пароль...\"\r\n      />\r\n      <button\r\n        className=\"authorization__btn\"\r\n        onClick={() => dispatch(registration(username, email, password))}>\r\n        Зарегистрироваться\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import {instance} from './main';\r\nimport {logout, setUser} from '../actions/users';\r\nimport {getCards} from './card';\r\n\r\nexport const registration = (username, email, password) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await instance.post(`users/create/`, {\r\n        username,\r\n        email,\r\n        password,\r\n      });\r\n      alert('Регистрация прошла успешна!');\r\n      dispatch(setUser());\r\n      localStorage.setItem('token', response.data.token);\r\n    } catch (e) {\r\n      console.log(e.response.data);\r\n    }\r\n  };\r\n};\r\n\r\nexport const login = (username, password) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await instance.post(`users/login/`, {\r\n        username,\r\n        password,\r\n      });\r\n      dispatch(setUser());\r\n      localStorage.setItem('token', response.data.token);\r\n\r\n      // dispatch(getCards());\r\n    } catch (e) {\r\n      alert('Вы ввели неправильное имя или пароль!');\r\n    }\r\n  };\r\n};\r\n\r\nexport const auth = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      if (localStorage.getItem('token')) {\r\n        dispatch(setUser());\r\n        // dispatch(getCards());\r\n      } else {\r\n        dispatch(logout());\r\n      }\r\n    } catch (e) {\r\n      localStorage.removeItem('token');\r\n    }\r\n  };\r\n};\r\n","import React, {useState} from 'react';\r\nimport './authorization.scss';\r\nimport {Input} from '../input/Input';\r\nimport {useDispatch} from 'react-redux';\r\nimport {login} from '../../api/user';\r\n\r\nexport const Login = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"authorization\">\r\n      <div className=\"authorization__header\">Авторизация</div>\r\n      <Input\r\n        value={username}\r\n        setValue={setUsername}\r\n        type=\"text\"\r\n        placeholder=\"Введите имя...\"\r\n      />\r\n      <Input\r\n        value={password}\r\n        setValue={setPassword}\r\n        type=\"password\"\r\n        placeholder=\"Введите пароль...\"\r\n      />\r\n      <button\r\n        className=\"authorization__btn\"\r\n        onClick={() => dispatch(login(username, password))}>\r\n        Войти\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\n\nimport './Button.scss';\n\nexport const Button = ({children, onClick}) => {\n  return (\n    <button className=\"button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/add.0bbf1711.svg\";","import React from 'react';\nimport {Button} from '../../components/Button';\nimport {Card} from '../../components/Card';\nimport addSvg from '../../assets/img/add.svg';\nimport clearSvg from '../../assets/img/clear.svg';\n\nimport './AddForm.scss';\n\nconst AddForm = ({value, showForm, setValue, textareaRef, setShowForm, onAdd}) => {\n  return showForm ? (\n    <div className=\"add-form\">\n      <div className=\"add-form__input\">\n        <Card>\n          <textarea\n            onChange={(e) => setValue(e.target.value)}\n            value={value}\n            placeholder={'Ввести заголовок для этой карточки'}\n            ref={textareaRef}\n            rows=\"3\"\n          />\n        </Card>\n        <div className=\"add-form__bottom\">\n          <Button onClick={onAdd}>{'Добавить карточку'}</Button>\n          <img\n            onClick={setShowForm.bind(this, false)}\n            className=\"add-form__bottom-clear\"\n            src={clearSvg}\n            alt=\"Clear svg icon\"\n          />\n        </div>\n      </div>\n    </div>\n  ) : (\n    <div className=\"add-form__bottom\">\n      <div onClick={setShowForm.bind(this, true)} className=\"add-form__bottom-add-btn\">\n        <img src={addSvg} alt=\"Add svg icon\" />\n        <span>{'Добавить карточку'}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default AddForm;\n","import React, {useState, useRef, useEffect} from 'react';\nimport AddFormBase from '../components/AddForm';\n\nexport const AddForm = ({columnIndex, onAddCard, onAddColumn, isEmptyColumn}) => {\n  const [showForm, setShowForm] = useState(false);\n  const [value, setValue] = useState('');\n  const textareaRef = useRef(null);\n\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.focus();\n    }\n  }, [showForm]);\n\n  const onAdd = () => {\n    if (isEmptyColumn) {\n      onAddColumn(value);\n    } else {\n      onAddCard(columnIndex, value);\n    }\n    setValue('');\n    setShowForm(false);\n  };\n\n  return (\n    <AddFormBase\n      onAdd={onAdd}\n      showForm={showForm}\n      setShowForm={setShowForm}\n      value={value}\n      setValue={setValue}\n      textareaRef={textareaRef}\n    />\n  );\n};\n","import React from 'react';\r\nimport {Droppable} from 'react-beautiful-dnd';\r\n\r\nimport {AddForm} from '../../containers/AddForm';\r\nimport CardContainer from '../../containers/Card';\r\nimport './Column.scss';\r\n\r\nexport const Column = ({columnIndex, title, cards, onAddCard}) => {\r\n  return cards ? (\r\n    <Droppable type=\"CARDS\" droppableId={`column-${columnIndex}`}>\r\n      {(provided) => (\r\n        <div className=\"column\" {...provided.droppableProps} ref={provided.innerRef}>\r\n          <div className=\"column__inner\">\r\n            {title && (\r\n              <div className=\"column__title\">\r\n                <b>{title}</b>\r\n                <b>{cards.length}</b>\r\n              </div>\r\n            )}\r\n            <div className=\"column__items\">\r\n              {cards.map((card, index) => (\r\n                <CardContainer\r\n                  key={index}\r\n                  columnIndex={columnIndex}\r\n                  cardIndex={index}\r\n                  cardID={card.id}\r\n                  cardSeqNum={card.seq_num}>\r\n                  {card.text}\r\n                </CardContainer>\r\n              ))}\r\n              {provided.placeholder}\r\n            </div>\r\n            <AddForm\r\n              isEmptyColumn={false}\r\n              columnIndex={columnIndex}\r\n              onAddCard={onAddCard}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Droppable>\r\n  ) : (\r\n    <div className={'column column--empty'}>\r\n      <div className=\"column__inner\">\r\n        <AddForm isEmptyColumn={true} columnIndex={columnIndex} onAddCard={onAddCard} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, {Fragment} from 'react';\nimport {DragDropContext} from 'react-beautiful-dnd';\nimport {useDispatch, useSelector} from 'react-redux';\n\nimport {Column} from '../components/Column';\nimport {addCard, updateCard} from '../api/card';\n\nexport const Columns = () => {\n  const items = useSelector((state) => state.cards);\n  const dispatch = useDispatch();\n\n  const onDragEnd = (result) => {\n    const {source, destination} = result;\n    if (\n      !destination ||\n      (source.droppableId === destination.droppableId &&\n        source.index === destination.index)\n    ) {\n      return;\n    }\n\n    // Достаем координаты карточки\n    const {index: sourceCardIndex, droppableId: sourceId} = source;\n    const {index: destinationCardIndex, droppableId: destinationId} = destination;\n    const sourceColumnIndex = parseInt(sourceId.replace('column-', ''));\n    const destinationColumnIndex = parseInt(destinationId.replace('column-', ''));\n\n    // Нашли у карточки ID и Text\n    const {id, text} = items\n      .find((i, index) => index === sourceColumnIndex)\n      .cards.find((i, index) => index === sourceCardIndex);\n\n    dispatch(updateCard(id, destinationColumnIndex, destinationCardIndex, text));\n  };\n\n  const onAddCard = (columnIndex, value) => {\n    dispatch(addCard(columnIndex, value));\n  };\n\n  return (\n    <Fragment>\n      <DragDropContext onDragEnd={onDragEnd}>\n        {items.map((item, index) => (\n          <Column {...item} key={index} columnIndex={index} onAddCard={onAddCard} />\n        ))}\n      </DragDropContext>\n    </Fragment>\n  );\n};\n","import React, {useEffect} from 'react';\r\nimport {Route, Switch, Redirect, HashRouter} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {Navbar} from './components/navbar/Navbar';\r\nimport {Registration} from './components/authorization/Registration';\r\nimport {Login} from './components/authorization/Login';\r\nimport {Columns} from './containers/Columns';\r\nimport {auth} from './api/user';\r\nimport {getCards} from './api/card';\r\nimport './app.scss';\r\n\r\nexport const App = () => {\r\n  const isAuth = useSelector((state) => state.users.isAuth);\r\n  const cards = useSelector((state) => state.cards);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!isAuth) dispatch(auth());\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch(getCards());\r\n  }, []);\r\n\r\n  return (\r\n    <HashRouter>\r\n      <div className=\"app\">\r\n        <Navbar />\r\n        <div className=\"wrap\">\r\n          {!isAuth ? (\r\n            <Switch>\r\n              <Route path=\"/registration\" component={Registration} />\r\n              <Route path=\"/login\" component={Login} />\r\n              <Redirect to=\"/login\" />\r\n            </Switch>\r\n          ) : (\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Columns} />\r\n              <Redirect to=\"/\" />\r\n            </Switch>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </HashRouter>\r\n  );\r\n};\r\n","export const reorderCards = ({state, source, destination}) => {\n  const {index: sourceCardIndex, droppableId: sourceId} = source;\n  const {index: destinationCardIndex, droppableId: destinationId} = destination;\n  const sourceColumnIndex = parseInt(sourceId.replace('column-', ''));\n  const destinationColumnIndex = parseInt(destinationId.replace('column-', ''));\n\n  return state.map((item, currentColumnIndex) => {\n    if (destinationColumnIndex === currentColumnIndex) {\n      const [sourceCard] = state[sourceColumnIndex].cards.splice(sourceCardIndex, 1);\n      const destinationCards = Array.from(state[destinationColumnIndex].cards);\n      destinationCards.splice(destinationCardIndex, 0, sourceCard);\n      item.cards = destinationCards;\n    }\n\n    return item;\n  });\n};\n","import {ADD_CARDS, REMOVE_CARDS, REORDER_CARDS, SET_CARDS} from '../../actions/cards';\r\nimport {reorderCards} from '../../helpers/reorderCards';\r\n\r\nconst initialState = [\r\n  {\r\n    title: 'ON HOLD',\r\n    cards: [],\r\n  },\r\n  {\r\n    title: 'IN PROGRESS',\r\n    cards: [],\r\n  },\r\n  {\r\n    title: 'NEEDS REVIEW',\r\n    cards: [],\r\n  },\r\n  {\r\n    title: 'APPROVED',\r\n    cards: [],\r\n  },\r\n];\r\n\r\nexport default function cardsReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_CARDS:\r\n      return state.map((item, index) => {\r\n        return {\r\n          ...item,\r\n          cards: [...action.payload.filter((c) => c.row === `${index}`)],\r\n        };\r\n      });\r\n    case ADD_CARDS:\r\n      return state.map((item, index) => {\r\n        if (+action.payload.row === index) {\r\n          return {\r\n            ...item,\r\n            cards: [\r\n              ...item.cards,\r\n              {\r\n                id: action.payload.id,\r\n                row: action.payload.row,\r\n                seq_num: action.payload.seq_num,\r\n                text: action.payload.text,\r\n              },\r\n            ],\r\n          };\r\n        }\r\n        return item;\r\n      });\r\n    case REMOVE_CARDS:\r\n      return state.map((item, columnIndex) => {\r\n        if (action.payload.columnIndex === columnIndex) {\r\n          return {\r\n            ...item,\r\n            cards: item.cards.filter(\r\n              (_, filterIndex) => filterIndex !== action.payload.cardIndex,\r\n            ),\r\n          };\r\n        }\r\n        return item;\r\n      });\r\n    case REORDER_CARDS: {\r\n      const {source, destination} = action.payload;\r\n      return reorderCards({\r\n        state,\r\n        source,\r\n        destination,\r\n      });\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {LOGOUT, SET_USER} from '../../actions/users';\r\n\r\nconst initialState = {\r\n  isAuth: false,\r\n};\r\n\r\nexport default function usersReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return {\r\n        ...state,\r\n        isAuth: true,\r\n      };\r\n    case LOGOUT:\r\n      localStorage.removeItem('token');\r\n      return {\r\n        ...state,\r\n        isAuth: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport cardsReducer from './card/cardsReducer';\r\nimport usersReducer from './user/usersReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  users: usersReducer,\r\n  cards: cardsReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk)),\r\n);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport {store} from './store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}