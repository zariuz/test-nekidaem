{"version":3,"sources":["actions/users.js","actions/cards.js","api/card.js","components/Card/index.jsx","assets/img/clear.svg","containers/Card.js","assets/img/avatar.svg","components/navbar/Navbar.jsx","components/input/Input.jsx","api/user.js","components/authorization/Registration.jsx","components/authorization/Login.jsx","components/Button/index.jsx","assets/img/add.svg","components/AddForm/index.jsx","containers/AddForm.js","components/Column/index.jsx","containers/Columns.js","App.jsx","store/card/cardsReducer.js","store/user/usersReducer.js","store/index.js","index.jsx"],"names":["INIT_USER","SET_USER","LOGOUT","initUser","type","setUser","logout","SET_CARDS","ADD_CARDS","REMOVE_CARDS","actionsCards","setCards","cards","payload","addCard","card","removeCard","columnIndex","cardIndex","instance","axios","create","baseURL","interceptors","request","use","config","a","token","localStorage","getItem","headers","error","response","status","document","location","reload","getCards","dispatch","get","data","alert","detail","value","post","row","text","id","delete","updateCard","destinationColumnIndex","destinationCardIndex","patch","seq_num","Card","children","onRemove","cardID","cardSeqNum","draggableId","index","provided","snapshot","className","ref","innerRef","draggableProps","dragHandleProps","onClick","src","clearSvg","alt","CardContainer","items","useSelector","state","useDispatch","global","confirm","Navbar","isAuth","users","to","avatarLogo","Input","props","onChange","event","setValue","target","placeholder","Registration","useState","username","setUsername","email","setEmail","password","setPassword","setItem","console","log","registration","Login","login","Button","AddForm","showForm","textareaRef","setShowForm","onAdd","e","rows","bind","addSvg","onAddCard","onAddColumn","isEmptyColumn","useRef","useEffect","current","focus","Column","title","droppableId","droppableProps","length","map","Columns","initApp","initial","onDragEnd","result","source","destination","sourceCardIndex","sourceId","destinationId","sourceColumnIndex","parseInt","replace","find","i","item","key","App","removeItem","exact","path","component","initialState","rootReducer","combineReducers","action","filter","c","_","filterIndex","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4f9e7628.chunk.js","sourcesContent":["export const INIT_USER = 'INIT_USER';\r\nexport const SET_USER = 'SET_USER';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\nexport const initUser = () => ({type: INIT_USER});\r\nexport const setUser = () => ({type: SET_USER});\r\nexport const logout = () => ({type: LOGOUT});\r\n","export const SET_CARDS = \"SET_CARDS\";\nexport const ADD_CARDS = \"ADD_CARDS\";\nexport const REMOVE_CARDS = \"REMOVE_CARDS\";\n\nexport const actionsCards = {\n  setCards: (cards) => ({\n    type: SET_CARDS,\n    payload: cards,\n  }),\n  addCard: (card) => ({\n    type: ADD_CARDS,\n    payload: card,\n  }),\n  removeCard: (columnIndex, cardIndex) => ({\n    type: REMOVE_CARDS,\n    payload: {\n      columnIndex,\n      cardIndex,\n    },\n  }),\n};\n","import axios from \"axios\";\nimport { actionsCards } from \"../actions/cards\";\nimport { initUser } from \"../actions/users\";\n\nlet instance = axios.create({\n  baseURL: \"https://trello.backend.tests.nekidaem.ru/api/v1/\",\n});\n\ninstance.interceptors.request.use(\n  async (config) => {\n    let token = localStorage.getItem(\"token\");\n    if (!!token) {\n      config.headers[\"Authorization\"] = `JWT ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    if (error.response.status === 401 || error.response.status === 403) {\n      document.location.reload();\n    }\n    throw error;\n  }\n);\n\nexport const getCards = () => {\n  return async (dispatch) => {\n    try {\n      const response = await instance.get(`cards/`);\n      dispatch(actionsCards.setCards(response.data));\n      dispatch(initUser());\n    } catch (e) {\n      alert(e.response.data.detail);\n    }\n  };\n};\n\nexport const addCard = (columnIndex, value) => {\n  return async (dispatch) => {\n    try {\n      const response = await instance.post(`cards/`, {\n        row: columnIndex,\n        text: value,\n      });\n      dispatch(actionsCards.addCard(response.data));\n    } catch (e) {\n      alert(e.response.data.text[0]);\n    }\n  };\n};\n\nexport const removeCard = (id, columnIndex, cardIndex) => {\n  return async (dispatch) => {\n    try {\n      await instance.delete(`/cards/${id}/`);\n      dispatch(actionsCards.removeCard(columnIndex, cardIndex));\n    } catch (e) {\n      alert(e.response.data);\n    }\n  };\n};\n\nexport const updateCard = (\n  id,\n  destinationColumnIndex,\n  destinationCardIndex,\n  text\n) => {\n  return async (dispatch) => {\n    try {\n      await instance.patch(`/cards/${id}/`, {\n        row: destinationColumnIndex,\n        seq_num: destinationCardIndex,\n        text: text,\n      });\n      dispatch(getCards());\n    } catch (e) {\n      alert(e.response.data);\n    }\n  };\n};\n","import React from 'react';\r\nimport {Draggable} from 'react-beautiful-dnd';\r\nimport clearSvg from '../../assets/img/clear.svg';\r\n\r\nimport './Card.scss';\r\n\r\nexport const Card = ({cardIndex, columnIndex, children, onRemove, cardID, cardSeqNum}) =>\r\n  typeof cardIndex !== 'undefined' ? (\r\n    <Draggable draggableId={`card-${columnIndex}-${cardIndex}`} index={cardIndex}>\r\n      {(provided, snapshot) => (\r\n        <div\r\n          className=\"card\"\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}>\r\n          <div>\r\n            {`id ${cardID} `}\r\n            {`sqn ${cardSeqNum}`}\r\n          </div>\r\n\r\n          <div className=\"card__text\">\r\n            <div>{children}</div>\r\n            <div onClick={onRemove} className=\"remove-btn\">\r\n              <img src={clearSvg} alt=\"Clear svg icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Draggable>\r\n  ) : (\r\n    <div className=\"card\">{children}</div>\r\n  );\r\n","export default __webpack_public_path__ + \"static/media/clear.4ac10f93.svg\";","import {Card} from '../components/Card';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {removeCard} from '../api/card';\n\nexport default function CardContainer({\n  columnIndex,\n  cardIndex,\n  children,\n  cardID,\n  cardSeqNum,\n}) {\n  const items = useSelector((state) => state.cards);\n  const dispatch = useDispatch();\n\n  const onRemove = () => {\n    if (global.confirm('Вы действительно хотите удалить?')) {\n      dispatch(removeCard(cardID, columnIndex, cardIndex));\n    }\n  };\n\n  return (\n    <Card\n      children={children}\n      items={items}\n      cardIndex={cardIndex}\n      columnIndex={columnIndex}\n      onRemove={onRemove}\n      cardID={cardID}\n      cardSeqNum={cardSeqNum}\n    />\n  );\n}\n","export default __webpack_public_path__ + \"static/media/avatar.1af8adc2.svg\";","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { logout } from \"../../actions/users\";\nimport avatarLogo from \"../../assets/img/avatar.svg\";\nimport \"./navbar.scss\";\n\nexport const Navbar = () => {\n  const isAuth = useSelector((state) => state.users.isAuth);\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"navbar\">\n      <div className=\"container\">\n        <NavLink to=\"/\" className=\"navbar__logo\">\n          <div className=\"navbar__header\">Trello</div>\n        </NavLink>\n        {!isAuth && (\n          <div className=\"navbar__login\">\n            <NavLink to=\"/login\">Войти</NavLink>\n          </div>\n        )}\n        {!isAuth && (\n          <div className=\"navbar__registration\">\n            <NavLink to=\"/registration\">Регистрация</NavLink>\n          </div>\n        )}\n        {isAuth && (\n          <div className=\"navbar__login\" onClick={() => dispatch(logout())}>\n            Выход\n          </div>\n        )}\n        {isAuth && (\n          <NavLink to=\"/\">\n            <img className=\"navbar__avatar\" src={avatarLogo} alt=\"\" />\n          </NavLink>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\r\nimport './input.scss';\r\n\r\nexport const Input = (props) => {\r\n  return (\r\n    <input\r\n      value={props.value}\r\n      onChange={(event) => props.setValue(event.target.value)}\r\n      type={props.type}\r\n      placeholder={props.placeholder}\r\n    />\r\n  );\r\n};\r\n","import axios from \"axios\";\nimport { logout, setUser } from \"../actions/users\";\n\nlet instance = axios.create({\n  baseURL: \"https://trello.backend.tests.nekidaem.ru/api/v1/\",\n});\n\nexport const registration = (username, email, password) => {\n  return async () => {\n    try {\n      const response = await instance.post(`users/create/`, {\n        username,\n        email,\n        password,\n      });\n      alert(\"Регистрация прошла успешна!\");\n      localStorage.setItem(\"token\", response.data.token);\n    } catch (e) {\n      alert(\"Вы ввели неправильные данные!\");\n      console.log(e.response.data);\n    }\n  };\n};\n\nexport const login = (username, password) => {\n  return async (dispatch) => {\n    try {\n      const response = await instance.post(`users/login/`, {\n        username,\n        password,\n      });\n      localStorage.setItem(\"token\", response.data.token);\n      dispatch(setUser());\n      console.log(localStorage.getItem(\"token\"));\n    } catch (e) {\n      alert(\"Вы ввели неправильное имя или пароль!\");\n      console.log(e.response.data);\n    }\n  };\n};\n\nexport const auth = () => {\n  return async (dispatch) => {\n    try {\n      if (localStorage.getItem(\"token\")) {\n        dispatch(setUser());\n      } else {\n        dispatch(logout());\n      }\n    } catch (e) {\n      localStorage.removeItem(\"token\");\n    }\n  };\n};\n","import React, {useState} from 'react';\r\nimport './authorization.scss';\r\nimport {Input} from '../input/Input';\r\nimport {registration} from '../../api/user';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nexport const Registration = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"authorization\">\r\n      <div className=\"authorization__header\">Регистрация</div>\r\n      <Input\r\n        value={username}\r\n        setValue={setUsername}\r\n        type=\"text\"\r\n        placeholder=\"Введите имя...\"\r\n      />\r\n      <Input\r\n        value={email}\r\n        setValue={setEmail}\r\n        type=\"text\"\r\n        placeholder=\"Введите email...\"\r\n      />\r\n      <Input\r\n        value={password}\r\n        setValue={setPassword}\r\n        type=\"password\"\r\n        placeholder=\"Введите пароль...\"\r\n      />\r\n      <button\r\n        className=\"authorization__btn\"\r\n        onClick={() => dispatch(registration(username, email, password))}>\r\n        Зарегистрироваться\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport './authorization.scss';\r\nimport {Input} from '../input/Input';\r\nimport {useDispatch} from 'react-redux';\r\nimport {login} from '../../api/user';\r\n\r\nexport const Login = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"authorization\">\r\n      <div className=\"authorization__header\">Авторизация</div>\r\n      <Input\r\n        value={username}\r\n        setValue={setUsername}\r\n        type=\"text\"\r\n        placeholder=\"Введите имя...\"\r\n      />\r\n      <Input\r\n        value={password}\r\n        setValue={setPassword}\r\n        type=\"password\"\r\n        placeholder=\"Введите пароль...\"\r\n      />\r\n      <button\r\n        className=\"authorization__btn\"\r\n        onClick={() => dispatch(login(username, password))}>\r\n        Войти\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\n\nimport './Button.scss';\n\nexport const Button = ({children, onClick}) => {\n  return (\n    <button className=\"button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/add.0bbf1711.svg\";","import React from 'react';\nimport {Button} from '../../components/Button';\nimport {Card} from '../../components/Card';\nimport addSvg from '../../assets/img/add.svg';\nimport clearSvg from '../../assets/img/clear.svg';\n\nimport './AddForm.scss';\n\nconst AddForm = ({value, showForm, setValue, textareaRef, setShowForm, onAdd}) => {\n  return showForm ? (\n    <div className=\"add-form\">\n      <div className=\"add-form__input\">\n        <Card>\n          <textarea\n            onChange={(e) => setValue(e.target.value)}\n            value={value}\n            placeholder={'Ввести заголовок для этой карточки'}\n            ref={textareaRef}\n            rows=\"3\"\n          />\n        </Card>\n        <div className=\"add-form__bottom\">\n          <Button onClick={onAdd}>{'Добавить карточку'}</Button>\n          <img\n            onClick={setShowForm.bind(this, false)}\n            className=\"add-form__bottom-clear\"\n            src={clearSvg}\n            alt=\"Clear svg icon\"\n          />\n        </div>\n      </div>\n    </div>\n  ) : (\n    <div className=\"add-form__bottom\">\n      <div onClick={setShowForm.bind(this, true)} className=\"add-form__bottom-add-btn\">\n        <img src={addSvg} alt=\"Add svg icon\" />\n        <span>{'Добавить карточку'}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default AddForm;\n","import React, {useState, useRef, useEffect} from 'react';\nimport AddFormBase from '../components/AddForm';\n\nexport const AddForm = ({columnIndex, onAddCard, onAddColumn, isEmptyColumn}) => {\n  const [showForm, setShowForm] = useState(false);\n  const [value, setValue] = useState('');\n  const textareaRef = useRef(null);\n\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.focus();\n    }\n  }, [showForm]);\n\n  const onAdd = () => {\n    if (isEmptyColumn) {\n      onAddColumn(value);\n    } else {\n      onAddCard(columnIndex, value);\n    }\n    setValue('');\n    setShowForm(false);\n  };\n\n  return (\n    <AddFormBase\n      onAdd={onAdd}\n      showForm={showForm}\n      setShowForm={setShowForm}\n      value={value}\n      setValue={setValue}\n      textareaRef={textareaRef}\n    />\n  );\n};\n","import React from 'react';\r\nimport {Droppable} from 'react-beautiful-dnd';\r\n\r\nimport {AddForm} from '../../containers/AddForm';\r\nimport CardContainer from '../../containers/Card';\r\nimport './Column.scss';\r\n\r\nexport const Column = ({columnIndex, title, cards, onAddCard}) => {\r\n  return cards ? (\r\n    <Droppable type=\"CARDS\" droppableId={`column-${columnIndex}`}>\r\n      {(provided) => (\r\n        <div className=\"column\" {...provided.droppableProps} ref={provided.innerRef}>\r\n          <div className=\"column__inner\">\r\n            {title && (\r\n              <div className=\"column__title\">\r\n                <b>{title}</b>\r\n                <b>{cards.length}</b>\r\n              </div>\r\n            )}\r\n            <div className=\"column__items\">\r\n              {cards.map((card, index) => (\r\n                <CardContainer\r\n                  key={index}\r\n                  columnIndex={columnIndex}\r\n                  cardIndex={index}\r\n                  cardID={card.id}\r\n                  cardSeqNum={card.seq_num}>\r\n                  {card.text}\r\n                </CardContainer>\r\n              ))}\r\n              {provided.placeholder}\r\n            </div>\r\n            <AddForm\r\n              isEmptyColumn={false}\r\n              columnIndex={columnIndex}\r\n              onAddCard={onAddCard}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Droppable>\r\n  ) : (\r\n    <div className={'column column--empty'}>\r\n      <div className=\"column__inner\">\r\n        <AddForm isEmptyColumn={true} columnIndex={columnIndex} onAddCard={onAddCard} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Fragment, useEffect } from \"react\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { Column } from \"../components/Column\";\nimport { addCard, getCards, updateCard } from \"../api/card\";\nimport { initUser } from \"../actions/users\";\n\nexport const Columns = () => {\n  const items = useSelector((state) => state.cards);\n  const initApp = useSelector((state) => state.users.initial);\n  const isAuth = useSelector((state) => state.users.isAuth);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!initApp) dispatch(initUser());\n    if (isAuth) dispatch(getCards());\n  }, [isAuth, initApp, dispatch]);\n\n  const onDragEnd = (result) => {\n    const { source, destination } = result;\n    if (\n      !destination ||\n      (source.droppableId === destination.droppableId &&\n        source.index === destination.index)\n    ) {\n      return;\n    }\n\n    // Достаем координаты карточки\n    const { index: sourceCardIndex, droppableId: sourceId } = source;\n    const { index: destinationCardIndex, droppableId: destinationId } =\n      destination;\n    const sourceColumnIndex = parseInt(sourceId.replace(\"column-\", \"\"));\n    const destinationColumnIndex = parseInt(\n      destinationId.replace(\"column-\", \"\")\n    );\n\n    // Нашли у карточки ID и Text\n    const { id, text } = items\n      .find((i, index) => index === sourceColumnIndex)\n      .cards.find((i, index) => index === sourceCardIndex);\n\n    dispatch(\n      updateCard(id, destinationColumnIndex, destinationCardIndex, text)\n    );\n  };\n\n  const onAddCard = (columnIndex, value) => {\n    dispatch(addCard(columnIndex, value));\n  };\n\n  return (\n    <Fragment>\n      <DragDropContext onDragEnd={onDragEnd}>\n        {items.map((item, index) => (\n          <Column\n            {...item}\n            key={index}\n            columnIndex={index}\n            onAddCard={onAddCard}\n          />\n        ))}\n      </DragDropContext>\n    </Fragment>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { Route, Switch, Redirect, HashRouter } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navbar } from \"./components/navbar/Navbar\";\nimport { Registration } from \"./components/authorization/Registration\";\nimport { Login } from \"./components/authorization/Login\";\nimport { Columns } from \"./containers/Columns\";\nimport { auth } from \"./api/user\";\nimport \"./app.scss\";\n\nexport const App = () => {\n  const isAuth = useSelector((state) => state.users.isAuth);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isAuth) {\n      dispatch(auth());\n    }\n  }, [dispatch, isAuth]);\n\n  return (\n    <HashRouter>\n      <div className=\"app\">\n        <Navbar />\n        <div className=\"wrap\">\n          {!isAuth ? (\n            <Switch>\n              <Route path=\"/registration\" component={Registration} />\n              <Route path=\"/login\" component={Login} />\n              <Redirect to=\"/login\" />\n            </Switch>\n          ) : (\n            <Switch>\n              <Route exact path=\"/\" component={Columns} />\n              <Redirect to=\"/\" />\n            </Switch>\n          )}\n        </div>\n      </div>\n    </HashRouter>\n  );\n};\n","import { ADD_CARDS, REMOVE_CARDS, SET_CARDS } from \"../../actions/cards\";\n\nconst initialState = [\n  {\n    title: \"ON HOLD\",\n    cards: [],\n  },\n  {\n    title: \"IN PROGRESS\",\n    cards: [],\n  },\n  {\n    title: \"NEEDS REVIEW\",\n    cards: [],\n  },\n  {\n    title: \"APPROVED\",\n    cards: [],\n  },\n];\n\nexport default function cardsReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_CARDS:\n      return state.map((item, index) => {\n        return {\n          ...item,\n          cards: [...action.payload.filter((c) => c.row === `${index}`)],\n        };\n      });\n    case ADD_CARDS:\n      return state.map((item, index) => {\n        if (+action.payload.row === index) {\n          return {\n            ...item,\n            cards: [\n              ...item.cards,\n              {\n                id: action.payload.id,\n                row: action.payload.row,\n                seq_num: action.payload.seq_num,\n                text: action.payload.text,\n              },\n            ],\n          };\n        }\n        return item;\n      });\n    case REMOVE_CARDS:\n      return state.map((item, columnIndex) => {\n        if (action.payload.columnIndex === columnIndex) {\n          return {\n            ...item,\n            cards: item.cards.filter(\n              (_, filterIndex) => filterIndex !== action.payload.cardIndex\n            ),\n          };\n        }\n        return item;\n      });\n    default:\n      return state;\n  }\n}\n","import { INIT_USER, LOGOUT, SET_USER } from \"../../actions/users\";\n\nconst initialState = {\n  initial: false,\n  isAuth: false,\n};\n\nexport default function usersReducer(state = initialState, action) {\n  switch (action.type) {\n    case INIT_USER:\n      return {\n        ...state,\n        initial: true,\n      };\n    case SET_USER:\n      return {\n        ...state,\n        isAuth: true,\n      };\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        initial: false,\n        isAuth: false,\n      };\n    default:\n      return state;\n  }\n}\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport cardsReducer from './card/cardsReducer';\r\nimport usersReducer from './user/usersReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  users: usersReducer,\r\n  cards: cardsReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk)),\r\n);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport {store} from './store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}